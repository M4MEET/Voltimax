/*
 * Voltimax Topbar Header - Theme Configuration Driven
 * ====================================================
 * These variables are injected from theme.json configuration
 */

// Since Shopware 6.6 Bootstrap utilities don't use !important,
// we can rely on them directly without custom overrides

.voltimax-topbar-header {
  // Use theme config variables with fallbacks
  background-color: var(--voltimax-topbar-background, #{$voltimax-bg-secondary-dark});
  font-size: var(--voltimax-topbar-font-size, 0.875rem);
  min-height: var(--voltimax-topbar-height, 35px);
  padding: 0.5rem 0;
  border-bottom: 1px solid $voltimax-border-light;
  width: 100%;
  display: flex;
  align-items: center;

  .topbar-text {
    color: var(--voltimax-topbar-text-color, #{$voltimax-text-on-dark});
    font-weight: 500;
    
    &:hover {
      color: $voltimax-hover-primary;
    }
  }

  // Equal width columns - 5 columns layout (excluding Trustpilot)
  .topbar-item {
    text-align: center;
    padding: 0 0.75rem;
    align-items: center;
    justify-content: center;
    min-height: 24px;
    flex: 1;
  }
  
  // Trustpilot placeholder - ready for custom implementation
  .trustpilot-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 24px;
    
    a {
      color: $voltimax-text-on-dark;
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 500;
      
      &:hover {
        color: $voltimax-hover-primary;
      }
    }
  }
}

// Utility class to force white text (for overriding Bootstrap)
.text-white-on-dark {
  color: #ffffff !important;
}

// Trustpilot placeholder styling - can be easily replaced
.voltimax-topbar-header {
  #trustpilot-topbar-placeholder {
    // Ready for custom Trustpilot widget replacement
    // This element can be targeted by ID for custom implementation
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

// Clean sticky container approach
.voltimax-sticky-container {
  background-color: $voltimax-bg-secondary;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: box-shadow 0.3s ease;
  
  // When scrolled, add stronger shadow
  &.is-scrolled {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
}

// Individual header sections
.voltimax-topbar-header {
  // Sticky only on mobile (below md breakpoint)
  @media (max-width: 767px) {
    position: sticky !important;
    position: -webkit-sticky !important;
    top: 0;
    z-index: 1022; // Higher than header-main to stay on top on mobile
  }

  // Not sticky on tablet and desktop
  @media (min-width: 768px) {
    position: relative;
  }
}

// Make header-main sticky at top
.header-main {
  position: sticky !important;
  position: -webkit-sticky !important;

  // On mobile, position below the sticky topbar
  @media (max-width: 767px) {
    top: var(--topbar-height, 35px); // Default to topbar height
    z-index: 1021;
  }

  // On tablet and desktop, stick to top
  @media (min-width: 768px) {
    top: 0;
    z-index: 1021;
  }

  background-color: $voltimax-bg-secondary !important;
}

// Make nav-main sticky but positioned to account for header-main height
// We use a CSS variable so it can adapt to actual header height
.nav-main {
  position: sticky !important;
  position: -webkit-sticky !important;
  top: var(--header-main-height, 100px); // Default to 100px, but can be set dynamically
  z-index: 1020; // Lower than header-main so it slides under
  background-color: white;
  border-bottom: 3px solid $voltimax-brand-primary;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15); // Stronger shadow when sticky

  // Mega menu specific fixes
  .megamenu {
    position: relative;

    .megamenu-foldout {
      // Ensure dropdown works within sticky container
      position: absolute;
      z-index: 9999; // High z-index for dropdown
    }
  }
}

// Removed viewport-specific optimizations - let Shopware handle responsive behavior